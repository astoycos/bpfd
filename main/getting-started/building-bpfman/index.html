
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../../img/favicon.svg">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-7.3.3">
    
    
      
        <title>Setup and Building - bpfman</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.5143246d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    
      


    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
      <script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#setup-and-building-bpfman" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="bpfman" class="md-header__button md-logo" aria-label="bpfman" data-md-component="logo">
      
  <img src="../../img/favicon.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            bpfman
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Setup and Building
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/bpfman/bpfman" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Introduction
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="./" class="md-tabs__link md-tabs__link--active">
        Getting Started
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../governance/CONTRIBUTING/" class="md-tabs__link">
        Developer Guide
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../governance/MEETINGS/" class="md-tabs__link">
        Community
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../blog/" class="md-tabs__link">
        Blog
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="bpfman" class="md-nav__button md-logo" aria-label="bpfman" data-md-component="logo">
      
  <img src="../../img/favicon.svg" alt="logo">

    </a>
    bpfman
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/bpfman/bpfman" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Getting Started" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Setup and Building
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Setup and Building
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#kernel-versions" class="md-nav__link">
    Kernel Versions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clone-the-bpfman-repo" class="md-nav__link">
    Clone the bpfman Repo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-bpfman" class="md-nav__link">
    Building bpfman
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#development-environment-setup" class="md-nav__link">
    Development Environment Setup
  </a>
  
    <nav class="md-nav" aria-label="Development Environment Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-rust-toolchain" class="md-nav__link">
    Install Rust Toolchain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-llvm" class="md-nav__link">
    Install LLVM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-protobuf-compiler" class="md-nav__link">
    Install Protobuf Compiler
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-go-protobuf-compiler-extensions" class="md-nav__link">
    Install GO protobuf Compiler Extensions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-libbpf" class="md-nav__link">
    Local libbpf
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-perl" class="md-nav__link">
    Install perl
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-yaml-formatter" class="md-nav__link">
    Install Yaml Formatter
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../running-release/" class="md-nav__link">
        Run bpfman From Release Image
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/" class="md-nav__link">
        Bpfman on Linux Tutorial
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cli-guide/" class="md-nav__link">
        CLI Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../example-bpf/" class="md-nav__link">
        Example eBPF Programs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../example-bpf-local/" class="md-nav__link">
        Deploying Example eBPF Programs On Local Host
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../example-bpf-k8s/" class="md-nav__link">
        Deploying Example eBPF Programs On Kubernetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3">
          Developer Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Developer Guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Developer Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../governance/CONTRIBUTING/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../governance/REVIEWING/" class="md-nav__link">
        Reviewing Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/operator-quick-start/" class="md-nav__link">
        Deploying the bpfman-operator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/develop-operator/" class="md-nav__link">
        Developing the bpfman-operator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/api-spec/" class="md-nav__link">
        Kubernetes CRD API-Reference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/shipping-bytecode/" class="md-nav__link">
        eBPF Bytecode Image Specifications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/image-build/" class="md-nav__link">
        bpfman Container Images
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/documentation/" class="md-nav__link">
        Documentation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/linux-capabilities/" class="md-nav__link">
        Linux Capabilities
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/logging/" class="md-nav__link">
        Logging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/testing/" class="md-nav__link">
        Testing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/debugging/" class="md-nav__link">
        Debugging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/release/" class="md-nav__link">
        Releasing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4">
          Community
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Community" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Community
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../governance/MEETINGS/" class="md-nav__link">
        Meetings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../governance/GOVERNANCE/" class="md-nav__link">
        Governance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../governance/CODE_OF_CONDUCT/" class="md-nav__link">
        Code of Conduct
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../governance/MAINTAINERS/" class="md-nav__link">
        Maintainers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../governance/SECURITY/" class="md-nav__link">
        Security
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../blog/">Blog</a>
          
        </div>
      
      <nav class="md-nav" aria-label="Blog" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Blog
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#kernel-versions" class="md-nav__link">
    Kernel Versions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clone-the-bpfman-repo" class="md-nav__link">
    Clone the bpfman Repo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-bpfman" class="md-nav__link">
    Building bpfman
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#development-environment-setup" class="md-nav__link">
    Development Environment Setup
  </a>
  
    <nav class="md-nav" aria-label="Development Environment Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-rust-toolchain" class="md-nav__link">
    Install Rust Toolchain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-llvm" class="md-nav__link">
    Install LLVM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-protobuf-compiler" class="md-nav__link">
    Install Protobuf Compiler
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-go-protobuf-compiler-extensions" class="md-nav__link">
    Install GO protobuf Compiler Extensions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-libbpf" class="md-nav__link">
    Local libbpf
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-perl" class="md-nav__link">
    Install perl
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-yaml-formatter" class="md-nav__link">
    Install Yaml Formatter
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/bpfman/bpfman/edit/main/docs/getting-started/building-bpfman.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="setup-and-building-bpfman">Setup and Building bpfman</h1>
<p>This section describes how to build bpfman.
If this is the first time building bpfman, jump to the
<a href="#development-environment-setup">Development Environment Setup</a> section for help installing
the tooling.</p>
<p>There is also an option to run images from a given release as opposed to building locally.
Jump to the <a href="../running-release/">Run bpfman From Release Image</a> section for installing
from a fixed release.</p>
<h2 id="kernel-versions">Kernel Versions</h2>
<p>eBPF is still a relatively new technology and being actively developed.
To take advantage of this constantly evolving technology, it is best to use the newest
kernel version possible.
If bpfman needs to be run on an older kernel, this section describes some of the kernel
features bpfman relies on to work and which kernel the feature was first introduced.</p>
<p>Major kernel features leveraged by bpfman:</p>
<ul>
<li><strong>Program Extensions:</strong> Program Extensions allows bpfman to load multiple XDP or TC eBPF programs
  on an interface, which is not natively supported in the kernel.
  A <code>dispatcher</code> program is loaded as the one program on a given interface, and the user's XDP or TC
  programs are loaded as extensions to the <code>dispatcher</code> program.
  Introduced in Kernel 5.6.</li>
<li><strong>Pinning:</strong> Pinning allows the eBPF program to remain loaded when the loading process (bpfman) is
  stopped or restarted.
  Introduced in Kernel 4.11.</li>
<li><strong>BPF Perf Link:</strong> Support BPF perf link for tracing programs (Tracepoint, Uprobe and Kprobe)
  which enables pinning for these program types.
  Introduced in Kernel 5.15.</li>
</ul>
<p>Tested kernel versions:</p>
<ul>
<li>Fedora 34: Kernel 5.17.6-100.fc34.x86_64<ul>
<li>XDP, TC, Tracepoint, Uprobe and Kprobe programs all loaded with bpfman running on localhost
  and running as systemd service.</li>
</ul>
</li>
<li>Fedora 33: Kernel 5.14.18-100.fc33.x86_64<ul>
<li>XDP and TC programs loaded with bpfman running on localhost and running as systemd service
  once SELinux was disabled (see https://github.com/fedora-selinux/selinux-policy/pull/806).</li>
<li>Tracepoint, Uprobe and Kprobe programs failed to load because they require the <code>BPF Perf Link</code>
  support.</li>
</ul>
</li>
<li>Fedora 32: Kernel 5.11.22-100.fc32.x86_64<ul>
<li>XDP and TC programs loaded with bpfman running on localhost once SELinux was disabled
  (see https://github.com/fedora-selinux/selinux-policy/pull/806).</li>
<li>bpfman fails to run as a systemd service because of some capabilities issues in the
  bpfman.service file.</li>
<li>Tracepoint, Uprobe and Kprobe programs failed to load because they require the <code>BPF Perf Link</code>
  support.</li>
</ul>
</li>
<li>Fedora 31: Kernel 5.8.18-100.fc31.x86_64<ul>
<li>bpfman was able to start on localhost, but XDP and TC programs wouldn't load because
  <code>BPF_LINK_CREATE</code> call was updated in newer kernels.</li>
<li>bpfman fails to run as a systemd service because of some capabilities issues in the
  bpfman.service file.</li>
</ul>
</li>
</ul>
<h2 id="clone-the-bpfman-repo">Clone the bpfman Repo</h2>
<p>You can build and run bpfman from anywhere. However, if you plan to make changes
to the bpfman operator, it will need to be under your <code>GOPATH</code> because Kubernetes
Code-generator does not work outside of <code>GOPATH</code> <a href="https://github.com/kubernetes/kubernetes/issues/86753">issue
86753</a>.  Assuming your
<code>GOPATH</code> is set to the typical <code>$HOME/go</code>, your repo should live in
<code>$HOME/go/src/github.com/bpfman/bpfman</code></p>
<div class="highlight"><pre><span></span><code><a name="__codelineno-0-1"></a>mkdir -p $HOME/go/src/github.com/bpfman
<a name="__codelineno-0-2"></a>cd $HOME/go/src/github.com/bpfman
<a name="__codelineno-0-3"></a>git clone git@github.com:bpfman/bpfman.git
</code></pre></div>
<h2 id="building-bpfman">Building bpfman</h2>
<p>To just test with the latest bpfman, containerized image are stored in <code>quay.io/bpfman</code>
(see <a href="../../developer-guide/image-build/">bpfman Container Images</a>).
To build with local changes, use the following commands.</p>
<p>If you are building bpfman for the first time OR the eBPF code has changed:</p>
<div class="highlight"><pre><span></span><code><a name="__codelineno-1-1"></a><span class="go">cargo xtask build-ebpf --libbpf-dir /path/to/libbpf</span>
</code></pre></div>
<p>If protobuf files have changed:</p>
<div class="highlight"><pre><span></span><code><a name="__codelineno-2-1"></a><span class="go">cargo xtask build-proto</span>
</code></pre></div>
<p>To build bpfman:</p>
<div class="highlight"><pre><span></span><code><a name="__codelineno-3-1"></a><span class="go">cargo build</span>
</code></pre></div>
<h2 id="development-environment-setup">Development Environment Setup</h2>
<p>To build bpfman, the following packages must be installed.</p>
<h3 id="install-rust-toolchain">Install Rust Toolchain</h3>
<p>For further detailed instructions, see
<a href="https://www.rust-lang.org/tools/install">Rust Stable &amp; Rust Nightly</a>.</p>
<div class="highlight"><pre><span></span><code><a name="__codelineno-4-1"></a><span class="go">curl --proto &#39;=https&#39; --tlsv1.2 -sSf https://sh.rustup.rs | sh</span>
<a name="__codelineno-4-2"></a><span class="go">source &quot;$HOME/.cargo/env&quot;</span>
<a name="__codelineno-4-3"></a><span class="go">rustup toolchain install nightly -c rustfmt,clippy,rust-src</span>
</code></pre></div>
<h3 id="install-llvm">Install LLVM</h3>
<p>LLVM 11 or later must be installed.
Linux package managers should provide a recent enough release.</p>
<p><code>dnf</code> based OS:</p>
<div class="highlight"><pre><span></span><code><a name="__codelineno-5-1"></a><span class="go">sudo dnf install llvm-devel clang-devel elfutils-libelf-devel</span>
</code></pre></div>
<p><code>apt</code> based OS:</p>
<div class="highlight"><pre><span></span><code><a name="__codelineno-6-1"></a><span class="go">sudo apt install clang lldb lld libelf-dev gcc-multilib</span>
</code></pre></div>
<h3 id="install-protobuf-compiler">Install Protobuf Compiler</h3>
<p>For further detailed instructions, see <a href="https://grpc.io/docs/protoc-installation/">protoc</a>.</p>
<p><code>dnf</code> based OS:</p>
<div class="highlight"><pre><span></span><code><a name="__codelineno-7-1"></a><span class="go">sudo dnf install protobuf-compiler</span>
</code></pre></div>
<p><code>apt</code> based OS:</p>
<div class="highlight"><pre><span></span><code><a name="__codelineno-8-1"></a><span class="go">sudo apt install protobuf-compiler</span>
</code></pre></div>
<h3 id="install-go-protobuf-compiler-extensions">Install GO protobuf Compiler Extensions</h3>
<p>See <a href="https://grpc.io/docs/languages/go/quickstart/">Quick Start Guide for gRPC in Go</a> for
installation instructions.</p>
<h3 id="local-libbpf">Local libbpf</h3>
<p>Checkout a local copy of libbpf.</p>
<div class="highlight"><pre><span></span><code><a name="__codelineno-9-1"></a><span class="go">git clone https://github.com/libbpf/libbpf --branch v0.8.0</span>
</code></pre></div>
<h3 id="install-perl">Install perl</h3>
<p>Install <code>perl</code>:</p>
<p><code>dnf</code> based OS:</p>
<div class="highlight"><pre><span></span><code><a name="__codelineno-10-1"></a><span class="go">sudo dnf install perl</span>
</code></pre></div>
<p><code>apt</code> based OS:</p>
<div class="highlight"><pre><span></span><code><a name="__codelineno-11-1"></a><span class="go">sudo apt install perl</span>
</code></pre></div>
<h3 id="install-yaml-formatter">Install Yaml Formatter</h3>
<p>As part of CI, the Yaml files are validated with a Yaml formatter.
Optionally, to verify locally, install the
<a href="https://marketplace.visualstudio.com/items?itemName=redhat.vscode-yaml">YAML Language Support by Red Hat</a>
VsCode Extension, or to format in bulk, install<code>prettier</code>.</p>
<p>To install <code>prettier</code>:</p>
<div class="highlight"><pre><span></span><code><a name="__codelineno-12-1"></a><span class="go">npm install -g prettier</span>
</code></pre></div>
<p>Then to flag which files are violating the formatting guide, run:</p>
<div class="highlight"><pre><span></span><code><a name="__codelineno-13-1"></a><span class="go">prettier -l &quot;*.yaml&quot;</span>
</code></pre></div>
<p>And to write changes in place, run:</p>
<div class="highlight"><pre><span></span><code><a name="__codelineno-14-1"></a><span class="go"> prettier -f &quot;*.yaml&quot;</span>
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../.." class="md-footer__link md-footer__link--prev" aria-label="Previous: Introduction" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Introduction
            </div>
          </div>
        </a>
      
      
        
        <a href="../running-release/" class="md-footer__link md-footer__link--next" aria-label="Next: Run bpfman From Release Image" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Run bpfman From Release Image
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2021-2023 The bpfman contributors
          </div>
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs
          </a>
        
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.indexes", "navigation.tabs", "navigation.tabs.sticky", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.8397ff9e.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.f89c2efe.min.js"></script>
      
    
  </body>
</html>